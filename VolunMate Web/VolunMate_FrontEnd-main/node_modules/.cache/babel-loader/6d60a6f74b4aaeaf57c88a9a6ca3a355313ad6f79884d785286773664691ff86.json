{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Suwaathmi Ravindran\\\\OneDrive\\\\Desktop\\\\VolunMate_FrontEnd-main\\\\src\\\\Components\\\\UserProfile.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./UserProfile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserProfile() {\n  _s();\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    role: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const userID = localStorage.getItem(\"id\");\n  useEffect(() => {\n    if (!userID) {\n      setError(\"User not logged in.\");\n      setLoading(false);\n    }\n  }, [userID]);\n  useEffect(() => {\n    if (!userID) return;\n    fetch(`http://localhost:5150/api/User/${userID}`).then(response => {\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch user profile.\");\n      }\n      return response.json();\n    }).then(data => {\n      setUser(data);\n      setLoading(false);\n      console.log(\"User profile loaded successfully\");\n    }).catch(err => {\n      setError(err.message);\n      setLoading(false);\n    });\n  }, [userID]);\n  const handleChange = e => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleUpdate = () => {\n    fetch(`http://localhost:5150/api/User/${userID}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(\"Failed to update profile.\");\n      }\n      return response.json();\n    }).then(() => {\n      alert(\"Profile updated successfully.\");\n      navigate(\"/dashboard\");\n    }).catch(err => {\n      alert(err.message);\n    });\n  };\n  const handleDelete = () => {\n    if (window.confirm(\"Are you sure you want to delete your account?\")) {\n      fetch(`http://localhost:5150/api/User/${userID}`, {\n        method: \"DELETE\"\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(\"Failed to delete account.\");\n        }\n        alert(\"Account deleted.\");\n        localStorage.removeItem(\"id\");\n        navigate(\"/login\");\n      }).catch(err => {\n        alert(err.message);\n      });\n    }\n  };\n\n  // Display loading or error messages\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"loading\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"profile-header\",\n      children: \"User Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          value: user.name,\n          onChange: handleChange,\n          placeholder: \"Enter your name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          value: user.email,\n          onChange: handleChange,\n          placeholder: \"Enter your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"role\",\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"role\",\n          name: \"role\",\n          value: user.role,\n          disabled: true,\n          placeholder: \"Your role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update-button\",\n          onClick: handleUpdate,\n          children: \"Update Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-button\",\n          onClick: handleDelete,\n          children: \"Delete Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(UserProfile, \"4UfIrIGez9hC1fWY9ONG1e1sNS4=\", false, function () {\n  return [useNavigate];\n});\n_c = UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["useState","useEffect","useNavigate","jsxDEV","_jsxDEV","UserProfile","_s","user","setUser","name","email","role","loading","setLoading","error","setError","navigate","userID","localStorage","getItem","fetch","then","response","ok","Error","json","data","console","log","catch","err","message","handleChange","e","target","value","handleUpdate","method","headers","body","JSON","stringify","alert","handleDelete","window","confirm","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","onChange","placeholder","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Suwaathmi Ravindran/OneDrive/Desktop/VolunMate_FrontEnd-main/src/Components/UserProfile.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; \nimport \"./UserProfile.css\"; \n\nexport default function UserProfile() {\n  const [user, setUser] = useState({ name: \"\", email: \"\", role: \"\" });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate(); \n\n  const userID = localStorage.getItem(\"id\");\n\n  \n  useEffect(() => {\n    if (!userID) {\n      setError(\"User not logged in.\");\n      setLoading(false);\n    }\n  }, [userID]);\n\n\n  useEffect(() => {\n    if (!userID) return;\n\n    fetch(`http://localhost:5150/api/User/${userID}`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch user profile.\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        setUser(data);\n        setLoading(false);\n        console.log(\"User profile loaded successfully\");\n      })\n      .catch((err) => {\n        setError(err.message);\n        setLoading(false);\n      });\n  }, [userID]);\n\n  \n  const handleChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n\n  const handleUpdate = () => {\n    fetch(`http://localhost:5150/api/User/${userID}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(user),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Failed to update profile.\");\n        }\n        return response.json();\n      })\n      .then(() => {\n        alert(\"Profile updated successfully.\");\n        navigate(\"/dashboard\"); \n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n\n\n  const handleDelete = () => {\n    if (window.confirm(\"Are you sure you want to delete your account?\")) {\n      fetch(`http://localhost:5150/api/User/${userID}`, {\n        method: \"DELETE\",\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Failed to delete account.\");\n          }\n          alert(\"Account deleted.\");\n          localStorage.removeItem(\"id\"); \n          navigate(\"/login\"); \n        })\n        .catch((err) => {\n          alert(err.message);\n        });\n    }\n  };\n\n  // Display loading or error messages\n  if (loading) return <p className=\"loading\">Loading...</p>;\n  if (error) return <p className=\"error\">{error}</p>;\n\n  return (\n    <div className=\"profile-container\">\n      <h2 className=\"profile-header\">User Profile</h2>\n      <div className=\"profile-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Full Name</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={user.name}\n            onChange={handleChange}\n            placeholder=\"Enter your name\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email Address</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            value={user.email}\n            onChange={handleChange}\n            placeholder=\"Enter your email\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"role\">Role</label>\n          <input\n            type=\"text\"\n            id=\"role\"\n            name=\"role\"\n            value={user.role}\n            disabled\n            placeholder=\"Your role\"\n          />\n        </div>\n        <div className=\"form-actions\">\n          <button className=\"update-button\" onClick={handleUpdate}>\n            Update Profile\n          </button>\n          <button className=\"delete-button\" onClick={handleDelete}>\n            Delete Account\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}